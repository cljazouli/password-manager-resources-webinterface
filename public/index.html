<!DOCTYPE html>
<head>
    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
    <title>Submit form for password managers</title>
</head>
<body>

<form id="generator">

    <p>Usage: example.com, don't use 'www.' or subdomains</p>
    <label for="url">Website URL: </label>
    <input type="text" id="url" name="URL" required placeholder="example.com"><br><br>

    <p>Please provide a screenshot, which verifies your password rule!</p>
    <input type="file" id="image" accept="image/png, image/jpeg" required>
    <br>
    <h1>Password Rule Generator: </h1>
    <br>
    <label for="minlength">Minimum Length: </label>
    <input id="minlength" type="number" class="length" pattern="[0-9]{1,2}"><br>
    <label for="maxlength">Maximum Length: </label>
    <input id="maxlength" type="number" class="length" pattern="[0-9]{1,2}"><br><br>

    <table>
        <tr>
            <th>Chars</th>
            <th>Allowed</th>
            <th>Required</th>
            <th>Minimal occurrences</th>
        </tr>
        <tr>
            <td><label>Digits (0-9)</label></td>
            <td><input type="checkbox" id="alwd_digit" disabled checked></td>
            <td><input type="checkbox" id="req_digit" onclick="clickedCheckbox('digit')" checked></td>
            <td><input type="number" id="min_digit" value="1"></td>
        </tr>
        <tr>
            <td><label>Lower case letters (a-z)</label></td>
            <td><input type="checkbox" id="alwd_lower" disabled checked></td>
            <td><input type="checkbox" id="req_lower" onclick="clickedCheckbox('lower')" checked></td>
            <td><input type="number" id="min_lower" value="1"></td>
        </tr>
        <tr>
            <td><label>Upper case letters (A-Z)</label></td>
            <td><input type="checkbox" id="alwd_upper" disabled checked></td>
            <td><input type="checkbox" id="req_upper" onclick="clickedCheckbox('upper')" checked></td>
            <td><input type="number" id="min_upper" value="1"></td>
        </tr>
        <tr>
            <td><label>Special characters (?!-;Ëœ...)</label></td>
            <td><input type="checkbox" id="alwd_special" onclick="chooseSpecial()"></td>
            <td><input type="checkbox" id="req_special" onclick="clickedCheckbox('special')"></td>
            <td><input type="number" id="min_special" value="1" hidden></td>
            <td><input type="text" id="choose_special" hidden placeholder="-~!@#$%^&*_+=`\|(){}[]:;'<>,.?"></td>
        </tr>
        <tr>
            <td><label>ASCII printable chars</label></td>
            <td><input type="checkbox" id="alwd_ascii"></td>
            <td><input type="checkbox" id="req_ascii" onclick="clickedCheckbox('ascii')"></td>
            <td><input type="number" id="min_ascii" value="1" hidden></td>
        </tr>
        <tr>
            <td><label>Unicode chars</label></td>
            <td><input type="checkbox" id="alwd_unicode"></td>
            <td><input type="checkbox" id="req_unicode" onclick="clickedCheckbox('unicode')"></td>
            <td><input type="number" id="min_unicode" value="1" hidden></td>
        </tr>

    </table>

    <br>
    <p>Please re-validate all your given parameters!</p>
    <input type="submit" value="Submit website">

</form>
<script>

    document.getElementById("image").onchange = function () {
        uploadFileToServer(document.getElementById("image").files[0]);
    };

    document.getElementById("generator").onsubmit = function (e) {
        e.preventDefault();
        if ($("#generator").valid()) {
            validateForm().then(() => {
                window.location.replace("thanks_for_contribute.html");
            }).catch();
        }
    }

</script>

</body>
<script src="scripts/client.js"></script>